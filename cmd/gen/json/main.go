package main

import "github.com/phrkdll/strongoid/internal/generator"

const methodTemplate = `// Code generated by strongoid; DO NOT EDIT!
package {{ .Package }}

import "github.com/phrkdll/strongoid"

{{ range .Types }}
func (t {{ . }}) MarshalJSON() ([]byte, error) {
	return strongoid.Id[int64](t).MarshalJSON()
}

func (t *{{ . }}) UnmarshalJSON(data []byte) error {
	return (*strongoid.Id[int64])(t).UnmarshalJSON(data)
}
{{ end }}
`

func main() {
	generator.Generate(methodTemplate, "id_json.gen.go")
}
