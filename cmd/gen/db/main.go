package main

import "github.com/phrkdll/strongoid/internal/generator"

const methodTemplate = `// Code generated by strongoid; DO NOT EDIT!
package {{ .Package }}

import (
	"database/sql/driver"
	"github.com/phrkdll/strongoid/pkg/strongoid"
)

{{ range .Types }}
func (t *{{ .Name }}) Scan(dbValue any) error {
	return (*strongoid.Id[{{ .BaseType }}])(t).Scan(dbValue)
}

func (t {{ .Name }}) Value() (driver.Value, error) {
	return strongoid.Id[{{ .BaseType }}](t).Value()
}
{{ end }}
`

func main() {
	generator.Generate(methodTemplate, "id_db.gen.go")
}
