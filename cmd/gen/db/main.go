package main

import "github.com/phrkdll/strongoid/internal/generator"

const methodTemplate = `// Code generated by strongoid; DO NOT EDIT!
package {{ .Package }}

import (
	"database/sql/driver"
	"github.com/phrkdll/strongoid"
)

{{ range .Types }}
func (t *{{ . }}) Scan(dbValue any) error {
	return (*strongoid.Id[int64])(t).Scan(dbValue)
}

func (t {{ . }}) Value() (driver.Value, error) {
	return strongoid.Id[int64](t).Value()
}
{{ end }}
`

func main() {
	generator.Generate(methodTemplate, "id_db.gen.go")
}
